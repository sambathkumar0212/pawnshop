{% extends 'base.html' %}
{% load static %}

{% block title %}Delete Scheme: {{ scheme.name }}{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <h1 class="mt-4">Delete Loan Scheme</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
        <li class="breadcrumb-item"><a href="{% url 'scheme_list' %}">Loan Schemes</a></li>
        <li class="breadcrumb-item"><a href="{% url 'scheme_detail' scheme.pk %}">{{ scheme.name }}</a></li>
        <li class="breadcrumb-item active">Delete</li>
    </ol>
    
    <div class="row">
        <div class="col-lg-6 mx-auto">
            <div class="card mb-4">
                <div class="card-header bg-danger text-white">
                    <i class="fas fa-exclamation-triangle me-1"></i>
                    Confirm Deletion
                </div>
                <div class="card-body">
                    <div class="alert alert-warning mb-4">
                        <h4 class="alert-heading">Warning!</h4>
                        <p>You are about to delete the loan scheme "<strong>{{ scheme.name }}</strong>" ({{ scheme.code }}). This action cannot be undone.</p>
                        <hr>
                        <p class="mb-0">If this scheme is currently being used by any active loans, those loans will still maintain their scheme settings, but the scheme will no longer be available for new loans.</p>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Scheme Details:</h5>
                        <ul>
                            <li><strong>Name:</strong> {{ scheme.name }}</li>
                            <li><strong>Code:</strong> {{ scheme.code }}</li>
                            <li><strong>Type:</strong> {{ scheme.get_scheme_type_display }}</li>
                            <li><strong>Interest Rate:</strong> {{ scheme.interest_rate }}%</li>
                            <li><strong>Status:</strong> {% if scheme.is_active %}Active{% else %}Inactive{% endif %}</li>
                            <li>
                                <strong>Branch:</strong> 
                                {% if scheme.branch %}{{ scheme.branch.name }}{% else %}Global (All Branches){% endif %}
                            </li>
                        </ul>
                    </div>
                    
                    <form method="post">
                        {% csrf_token %}
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                            <a href="{% url 'scheme_detail' scheme.pk %}" class="btn btn-secondary me-md-2">
                                <i class="fas fa-arrow-left"></i> Cancel
                            </a>
                            <button type="submit" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Yes, Delete Scheme
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}